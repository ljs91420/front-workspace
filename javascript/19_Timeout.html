<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>19_Timeout.html</title>
    <style>
        li {
            /*
                CSS에서 색을 나타낼 수 있는 여러가지 표현 방법
                
                #000000 ~ #FFFFFF : rgb 설정
                rgb(0, 0, 0) ~ rgb(255, 255, 255) : rgb 설정
                rgba(0, 0, 0, 0) ~ rgba(255, 255, 255, 1) : 불투명도까지 설정
            */
            background-color: #010101;
            color: rgb(1, 1, 1);
        }
    </style>
</head>
<body>
    <h3>window.setTimeout(callbackfn, millisec)</h3>

    <ul>
        <li>설정한 시간 만큼 기다린 후에 콜백 함수를 한 번 실행한다.</li>
        <li>시간은 밀리초 단위로 전달해야 한다.</li>
        <li>설정된 타임아웃을 삭제하기 위해서는 설정 당시 생성된 인스턴스를 window.clearTimeout()에 전달해야 한다.</li>
    </ul>

    <h3>window.setInterval(callbackfn, millisec)</h3>

    <ul>
        <li>설정된 시간마다 콜백 함수를 실행한다.</li>
        <li>설정된 인터벌을 삭제하기 위해서는 설정 당시 생성된 인스턴스를 window.clearInterval()에 전달해야 한다.</li>
    </ul>

    <button onclick="stopTimeout();">Stop Timeout!</button>
    <button onclick="stopInterval();">Stop Interval!</button>

    <script>
        const lis = document.querySelectorAll("li");

        const timeout1 = window.setTimeout(() => {
            lis.forEach(li => {
                li.style.color = "red";
                li.style.backgroundColor = "black";
            });
        }, 5000);

        // #918667 << 색깔을 16진수 6자리로 나타낸다.
        const getRandomColor = () => `#${Math.floor(Math.random() * (0xFFFFFF + 1))}`;

        const interval1 = window.setInterval(() => {
            lis.forEach(li => li.style.backgroundColor = getRandomColor());
        }, 300);

        // clearTimeout() : 전달한 타임아웃을 삭제한다.
        function stopTimeout() {
            window.clearTimeout(timeout1);
        }

        // clearInterval() : 전달한 인터벌을 삭제한다.
        function stopInterval() {
            window.clearInterval(interval1);
        }
    </script>
</body>
</html>